{% macro payment_info(payment) %}
<dl class="dl-horizontal">
<dt>Name</dt><dd>{{ payment.user.name }}</dd>
<dt>Email</dt><dd>{{ payment.user.email }}</dd>
<dt>Price</dt><dd>{{ payment.amount | price(payment.currency) }}</dd>
{%- if payment.provider == 'banktransfer' %}
<dt>Reference</dt><dd>{{ payment.bankref | bankref }}</dd>
{% elif payment.provider == 'gocardless' %}
<dt>GoCardless ID</dt><dd>{{ payment.gcid }}</dd>
{% endif -%}
<dt>Expires</dt><dd>{{ payment.expires and payment.expires.strftime('%Y-%m-%d %H:%M:%S') }}</dd>
</dl>
{% endmacro %}

{% macro purchase_table(payment) %}
<table class="table table-condensed table-striped">
<thead><tr>
  <th>Product Group</th>
  <th>Name</th>
</tr></thead>
<tbody>
{% for purchase in payment.purchases %}
<tr>
  <td>{{ purchase.product.parent.name }}</td>
  <td>{{ purchase.product.display_name }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% endmacro %}

